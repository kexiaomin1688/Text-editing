
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多语言文本格式编辑器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .textarea-code {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        .rtl-text {
            direction: rtl;
            text-align: right;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- 头部导航 -->
        <header class="text-center mb-12 fade-in">
            <div class="flex justify-between items-center mb-6">
                <div></div>
                <h1 class="text-4xl font-bold text-white mb-4">多语言文本格式编辑器</h1>
                <div class="relative">
                    <select id="languageSelector" class="bg-white/20 text-white px-4 py-2 rounded-lg backdrop-blur-sm">
                    <option value="zh">中文</option>
                    <option value="en">English</option>
                    <option value="ar">العربية</option>
                    <option value="pt-BR">Português (BR)</option>
                </select>
            </div>
            <p class="text-xl text-white/80" id="subtitle">一站式解决所有文本格式问题</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- 输入输出区域 -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl shadow-2xl p-6 card-hover">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800" id="editorTitle">文本编辑区</h2>
                        <div class="flex space-x-2">
                            <button id="clearBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-trash mr-2"></i><span id="clearText">清空</span>
                            </button>
                            <button id="copyBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-copy mr-2"></i><span id="copyText">复制结果</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" id="inputLabel">输入文本</label>
                            <textarea id="inputText" class="w-full h-64 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none textarea-code" placeholder="在此输入需要处理的文本..." id="inputPlaceholder"></textarea>
                            <div class="flex justify-between mt-2 text-sm text-gray-500">
                                <span id="charCountText">字符数: <span id="charCount">0</span></span>
                                <span id="lineCountText">行数: <span id="lineCount">0</span></span>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2" id="outputLabel">处理结果</label>
                            <textarea id="outputText" class="w-full h-64 p-4 border border-gray-300 rounded-lg bg-gray-50 resize-none textarea-code" readonly placeholder="处理结果将显示在这里..." id="outputPlaceholder"></textarea>
                            <div class="flex justify-between mt-2 text-sm text-gray-500">
                                <span id="outputCharCountText">字符数: <span id="outputCharCount">0</span></span>
                                <span id="processTimeText">处理时间: <span id="processTime">0</span>ms</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 功能面板 -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-2xl shadow-2xl p-6 card-hover">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6" id="toolsTitle">格式处理工具</h2>
                    
                    <!-- 竖转横排核心功能 -->
                    <div class="mb-8">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-exchange-alt text-blue-500 mr-2"></i><span id="verticalConfigTitle">竖转横排配置</span>
                        </h3>
                        <div class="space-y-4">
                            <!-- 间隔符选择 -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2" id="separatorLabel">选择间隔符</label>
                                <div class="grid grid-cols-4 gap-2 mb-3">
                                    <button data-separator=" " class="separator-btn bg-blue-500 text-white p-2 rounded-lg transition-colors" id="spaceBtn">空格</button>
                                    <button data-separator="," class="separator-btn bg-gray-200 hover:bg-gray-300 p-2 rounded-lg transition-colors" id="commaBtn">逗号</button>
                                    <button data-separator="|" class="separator-btn bg-gray-200 hover:bg-gray-300 p-2 rounded-lg transition-colors" id="pipeBtn">竖线</button>
                                    <button data-separator="-" class="separator-btn bg-gray-200 hover:bg-gray-300 p-2 rounded-lg transition-colors" id="dashBtn">横线</button>
                                </div>
                                
                                <!-- 自定义间隔符 -->
                                <div class="mt-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-2" id="customSeparatorLabel">自定义间隔符</label>
                                    <div class="flex space-x-2">
                                        <input type="text" id="customSeparator" class="flex-1 p-2 border border-gray-300 rounded-lg" placeholder="输入自定义间隔符" value=" ">
                                        <button id="applyVerticalToHorizontal" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors" id="applyBtn">应用</button>
                                    </div>
                                </div>
                                
                                <!-- 处理选项 -->
                                <div class="mt-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-2" id="optionsLabel">处理选项</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center">
                                            <input type="checkbox" id="trimBeforeJoin" class="mr-2" checked>
                                            <span class="text-sm" id="trimLabel">处理前去除空格</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="filterEmptyLines" class="mr-2" checked>
                                            <span class="text-sm" id="filterLabel">过滤空行</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="addTrailingSeparator" class="mr-2">
                                            <span class="text-sm" id="trailingLabel">末尾添加间隔符</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 快速操作 -->
                            <div class="mb-8">
                                <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                                <i class="fas fa-bolt text-green-500 mr-2"></i><span id="quickActionsTitle">快速操作</span>
                            </h3>
                            <div class="grid grid-cols-1 gap-3">
                                <button data-action="verticalToHorizontalSpace" class="format-btn bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg text-left transition-colors">
                                    <i class="fas fa-arrow-right mr-2"></i><span id="spaceActionText">竖转横排（空格间隔）</span>
                                </button>
                                <button data-action="verticalToHorizontalComma" class="format-btn bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg text-left transition-colors">
                                    <i class="fas fa-arrow-right mr-2"></i><span id="commaActionText">竖转横排（逗号间隔）</span>
                                </button>
                                <button data-action="verticalToHorizontalCustom" class="format-btn bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg text-left transition-colors">
                                    <i class="fas fa-arrow-right mr-2"></i><span id="customActionText">竖转横排（自定义间隔）</span>
                                </button>
                            </div>

                            <!-- 其他格式工具 -->
                            <div class="mb-8">
                                <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                                    <i class="fas fa-tools text-purple-500 mr-2"></i><span id="otherToolsTitle">其他工具</span>
                                </h3>
                                <div class="grid grid-cols-1 gap-3">
                                <button data-action="removeEmptyLines" class="format-btn bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg text-left transition-colors">
                                    <i class="fas fa-trash-alt mr-2"></i><span id="removeEmptyText">删除空行</span>
                                </button>
                                <button data-action="trimLines" class="format-btn bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg text-left transition-colors">
                                    <i class="fas fa-cut mr-2"></i><span id="trimLinesText">去除行首行尾空格</span>
                                </button>
                                <button data-action="removeAllSpaces" class="format-btn bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg text-left transition-colors">
                                    <i class="fas fa-space-shuttle mr-2"></i><span id="removeSpacesText">删除所有空格</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 使用示例 -->
            <div class="mt-8 bg-white rounded-2xl shadow-2xl p-6 card-hover">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" id="exampleTitle">使用示例</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-700 mb-2" id="inputExampleText">竖排文本输入：</h3>
            <pre class="bg-gray-100 p-4 rounded-lg textarea-code">
苹果
香蕉
橙子
葡萄
            </pre>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2" id="outputExampleText">横排输出（逗号间隔）：</h3>
            <pre class="bg-gray-100 p-4 rounded-lg textarea-code">
苹果,香蕉,橙子,葡萄
            </pre>
                </div>
            </div>
        </div>
    </div>

    <!-- 多语言配置 -->
    <script>
        // 多语言文本配置
        const translations = {
            zh: {
                title: "多语言文本格式编辑器",
                subtitle: "一站式解决所有文本格式问题",
                editorTitle: "文本编辑区",
                inputLabel: "输入文本",
                inputPlaceholder: "在此输入需要处理的文本...",
                outputLabel: "处理结果",
                outputPlaceholder: "处理结果将显示在这里...",
                toolsTitle: "格式处理工具",
                verticalConfigTitle: "竖转横排配置",
                separatorLabel: "选择间隔符",
                spaceBtn: "空格",
                commaBtn: "逗号",
                pipeBtn: "竖线",
                dashBtn: "横线",
                customSeparatorLabel: "自定义间隔符",
                applyBtn: "应用",
                optionsLabel: "处理选项",
                trimLabel: "处理前去除空格",
                filterLabel: "过滤空行",
                traillingLabel: "末尾添加间隔符",
                quickActionsTitle: "快速操作",
                spaceActionText: "竖转横排（空格间隔）",
                commaActionText: "竖转横排（逗号间隔）",
                customActionText: "竖转横排（自定义间隔）",
                otherToolsTitle: "其他工具",
                removeEmptyText: "删除空行",
                trimLinesText: "去除行首行尾空格",
                removeSpacesText: "删除所有空格",
                exampleTitle: "使用示例",
                inputExampleText: "竖排文本输入：",
                outputExampleText: "横排输出（逗号间隔）：",
                clearText: "清空",
                copyText: "复制结果",
                charCountText: "字符数:",
                lineCountText: "行数:",
                outputCharCountText: "字符数:",
                processTimeText: "处理时间:"
            },
            en: {
                title: "Multilingual Text Formatter",
                subtitle: "One-stop solution for all text formatting needs",
                editorTitle: "Text Editor",
                inputLabel: "Input Text",
                inputPlaceholder: "Enter text to process here...",
                outputLabel: "Processed Result",
                outputPlaceholder: "The processed result will appear here...",
                toolsTitle: "Formatting Tools",
                verticalConfigTitle: "Vertical to Horizontal Settings",
                separatorLabel: "Select Separator",
                spaceBtn: "Space",
                commaBtn: "Comma",
                pipeBtn: "Pipe",
                dashBtn: "Dash",
                customSeparatorLabel: "Custom Separator",
                applyBtn: "Apply",
                optionsLabel: "Processing Options",
                trimLabel: "Trim spaces before joining",
                filterLabel: "Filter empty lines",
                traillingLabel: "Add separator at end",
                quickActionsTitle: "Quick Actions",
                spaceActionText: "Vertical to Horizontal (Space)",
                commaActionText: "Vertical to Horizontal (Comma)",
                customActionText: "Vertical to Horizontal (Custom)",
                otherToolsTitle: "Other Tools",
                removeEmptyText: "Remove empty lines",
                trimLinesText: "Trim line spaces",
                removeSpacesText: "Remove all spaces",
                exampleTitle: "Usage Example",
                inputExampleText: "Vertical text input:",
                outputExampleText: "Horizontal output (comma):",
                clearText: "Clear",
                copyText: "Copy Result",
                charCountText: "Characters:",
                lineCountText: "Lines:",
                outputCharCountText: "Characters:",
                processTimeText: "Process time:"
            },
            ar: {
                title: "محرر النصوص متعدد اللغات",
                subtitle: "حل شامل لجميع احتياجات تنسيق النصوص",
                editorTitle: "منطقة تحرير النص",
                inputLabel: "النص المدخل",
                inputPlaceholder: "أدخل النص المراد معالجته هنا...",
                outputLabel: "النتيجة المعالجة",
                outputPlaceholder: "ستظهر النتيجة المعالجة هنا...",
                toolsTitle: "أدوات التنسيق",
                verticalConfigTitle: "إعدادات التحويل من عمودي إلى أفقي",
                separatorLabel: "اختر الفاصل",
                spaceBtn: "مسافة",
                commaBtn: "فاصلة",
                pipeBtn: "شريط عمودي",
                dashBtn: "شرطة",
                customSeparatorLabel: "فاصل مخصص",
                applyBtn: "تطبيق",
                optionsLabel: "خيارات المعالجة",
                trimLabel: "إزالة المسافات قبل الربط",
                filterLabel: "تصفية الأسطر الفارغة",
                traillingLabel: "إضافة فاصل في النهاية",
                quickActionsTitle: "إجراءات سريعة",
                spaceActionText: "عمودي إلى أفقي (مسافة)",
                commaActionText: "عمودي إلى أفقي (فاصلة)",
                customActionText: "عمودي إلى أفقي (مخصص)",
                otherToolsTitle: "أدوات أخرى",
                removeEmptyText: "إزالة الأسطر الفارغة",
                trimLinesText: "إزالة المسافات من بداية ونهاية الأسطر",
                removeSpacesText: "إزالة جميع المسافات",
                exampleTitle: "مثال الاستخدام",
                inputExampleText: "إدخال النص العمودي:",
                outputExampleText: "الإخراج الأفقي (فاصلة):",
                clearText: "مسح",
                copyText: "نسخ النتيجة",
                charCountText: "عدد الأحرف:",
                lineCountText: "عدد الأسطر:",
                outputCharCountText: "عدد الأحرف:",
                processTimeText: "وقت المعالجة:"
            },
            "pt-BR": {
                title: "Editor de Texto Multilíngue",
                subtitle: "Solução completa para todas as necessidades de formatação de texto",
                editorTitle: "Área de Edição de Texto",
                inputLabel: "Texto de Entrada",
                inputPlaceholder: "Digite o texto a ser processado aqui...",
                outputLabel: "Resultado Processado",
                outputPlaceholder: "O resultado processado será exibido aqui...",
                toolsTitle: "Ferramentas de Formatação",
                verticalConfigTitle: "Configurações Vertical para Horizontal",
                separatorLabel: "Selecionar Separador",
                spaceBtn: "Espaço",
                commaBtn: "Vírgula",
                pipeBtn: "Barra Vertical",
                dashBtn: "Traço",
                customSeparatorLabel: "Separador Personalizado",
                applyBtn: "Aplicar",
                optionsLabel: "Opções de Processamento",
                trimLabel: "Remover espaços antes de unir",
                filterLabel: "Filtrar linhas vazias",
                traillingLabel: "Adicionar separador no final",
                quickActionsTitle: "Ações Rápidas",
                spaceActionText: "Vertical para Horizontal (Espaço)",
                commaActionText: "Vertical para Horizontal (Vírgula)",
                customActionText: "Vertical para Horizontal (Personalizado)",
                otherToolsTitle: "Outras Ferramentas",
                removeEmptyText: "Remover linhas vazias",
                trimLinesText: "Remover espaços das linhas",
                removeSpacesText: "Remover todos os espaços",
                exampleTitle: "Exemplo de Uso",
                inputExampleText: "Entrada de texto vertical:",
                outputExampleText: "Saída horizontal (vírgula):",
                clearText: "Limpar",
                copyText: "Copiar Resultado",
                charCountText: "Caracteres:",
                lineCountText: "Linhas:",
                outputCharCountText: "Caracteres:",
                processTimeText: "Tempo de processamento:"
            }
        };

        // 增强版竖转横排功能
        const verticalToHorizontalFunctions = {
            verticalToHorizontal(text, separator = ' ', options = {}) {
                let lines = text.split('\n');
                
                if (options.trimBeforeJoin) {
                    lines = lines.map(line => line.trim());
                }
                
                if (options.filterEmptyLines) {
                    lines = lines.filter(line => line !== '');
                }
                
                let result = lines.join(separator);
                
                if (options.addTrailingSeparator) {
                    result += separator;
                }
                
                return result;
            },
            
            verticalToHorizontalSpace(text) {
                return this.verticalToHorizontal(text, ' ', {
                    trimBeforeJoin: true,
                    filterEmptyLines: true,
                    addTrailingSeparator: false
                });
            },
            
            verticalToHorizontalComma(text) {
                return this.verticalToHorizontal(text, ',', {
                    trimBeforeJoin: true,
                    filterEmptyLines: true,
                    addTrailingSeparator: false
                });
            },
            
            verticalToHorizontalCustom(text) {
                const separator = document.getElementById('customSeparator').value || ' ';
                const options = {
                    trimBeforeJoin: document.getElementById('trimBeforeJoin').checked,
                    filterEmptyLines: document.getElementById('filterEmptyLines').checked,
                    addTrailingSeparator: document.getElementById('addTrailingSeparator').checked
                };
                
                return this.verticalToHorizontal(text, separator, options);
            }
        };

        // 其他格式处理功能
        const formatFunctions = {
            removeEmptyLines(text) {
                return text.split('\n').filter(line => line.trim() !== '').join('\n');
            },

            trimLines(text) {
                return text.split('\n').map(line => line.trim()).join('\n');
            },

            removeAllSpaces(text) {
                return text.replace(/\s+/g, '');
            }
        };

        // DOM元素
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const charCount = document.getElementById('charCount');
        const lineCount = document.getElementById('lineCount');
        const outputCharCount = document.getElementById('outputCharCount');
        const processTime = document.getElementById('processTime');
        const clearBtn = document.getElementById('clearBtn');
        const copyBtn = document.getElementById('copyBtn');
        const formatBtns = document.querySelectorAll('.format-btn');
        const separatorBtns = document.querySelectorAll('.separator-btn');
        const applyBtn = document.getElementById('applyVerticalToHorizontal');
        const languageSelector = document.getElementById('languageSelector');

        // 更新界面语言
        function updateLanguage(lang) {
            const t = translations[lang];
            
            // 更新所有文本元素
            document.querySelector('title').textContent = t.title;
            document.querySelector('h1').textContent = t.title;
            document.getElementById('subtitle').textContent = t.subtitle;
            document.getElementById('editorTitle').textContent = t.editorTitle;
            document.getElementById('inputLabel').textContent = t.inputLabel;
            document.getElementById('inputPlaceholder').placeholder = t.inputPlaceholder;
            document.getElementById('outputLabel').textContent = t.outputLabel;
            document.getElementById('outputPlaceholder').placeholder = t.outputPlaceholder;
            document.getElementById('toolsTitle').textContent = t.toolsTitle;
            document.getElementById('verticalConfigTitle').textContent = t.verticalConfigTitle;
            document.getElementById('separatorLabel').textContent = t.separatorLabel;
            document.getElementById('spaceBtn').textContent = t.spaceBtn;
            document.getElementById('commaBtn').textContent = t.commaBtn;
            document.getElementById('pipeBtn').textContent = t.pipeBtn;
            document.getElementById('dashBtn').textContent = t.dashBtn;
            document.getElementById('customSeparatorLabel').textContent = t.customSeparatorLabel;
            document.getElementById('applyBtn').textContent = t.applyBtn;
            document.getElementById('optionsLabel').textContent = t.optionsLabel;
            document.getElementById('trimLabel').textContent = t.trimLabel;
            document.getElementById('filterLabel').textContent = t.filterLabel;
            document.getElementById('traillingLabel').textContent = t.traillingLabel;
            document.getElementById('quickActionsTitle').textContent = t.quickActionsTitle;
            document.getElementById('spaceActionText').textContent = t.spaceActionText;
            document.getElementById('commaActionText').textContent = t.commaActionText;
            document.getElementById('customActionText').textContent = t.customActionText;
            document.getElementById('otherToolsTitle').textContent = t.otherToolsTitle;
            document.getElementById('removeEmptyText').textContent = t.removeEmptyText;
            document.getElementById('trimLinesText').textContent = t.trimLinesText;
            document.getElementById('removeSpacesText').textContent = t.removeSpacesText;
            document.getElementById('exampleTitle').textContent = t.exampleTitle;
            document.getElementById('inputExampleText').textContent = t.inputExampleText;
            document.getElementById('outputExampleText').textContent = t.outputExampleText;
            document.getElementById('clearText').textContent = t.clearText;
            document.getElementById('copyText').textContent = t.copyText;
            document.getElementById('charCountText').textContent = t.charCountText;
            document.getElementById('lineCountText').textContent = t.lineCountText;
            document.getElementById('outputCharCountText').textContent = t.outputCharCountText;
            document.getElementById('processTimeText').textContent = t.processTimeText;

            // 设置文本方向
            if (lang === 'ar') {
                document.body.classList.add('rtl-text');
            } else {
                document.body.classList.remove('rtl-text');
            }
        }

        // 更新统计信息
        function updateStats() {
            const input = inputText.value;
            charCount.textContent = input.length;
            lineCount.textContent = input.split('\n').length;
            outputCharCount.textContent = outputText.value.length;
        }

        // 处理文本
        function processText(action) {
            const startTime = performance.now();
            const input = inputText.value;
            let result = input;

            if (verticalToHorizontalFunctions[action]) {
                result = verticalToHorizontalFunctions[action](input);
            } else if (formatFunctions[action]) {
                result = formatFunctions[action](input);
            }

            outputText.value = result;
            
            const endTime = performance.now();
            processTime.textContent = Math.round(endTime - startTime);
            updateStats();
        }

        // 设置间隔符
        function setSeparator(separator) {
            document.getElementById('customSeparator').value = separator;
            
            separatorBtns.forEach(btn => {
                if (btn.getAttribute('data-separator') === separator) {
                    btn.classList.remove('bg-gray-200');
                    btn.classList.add('bg-blue-500', 'text-white');
                } else {
                    btn.classList.remove('bg-blue-500', 'text-white');
                    btn.classList.add('bg-gray-200');
                }
            });
        }

        // 事件监听
        inputText.addEventListener('input', updateStats);
        
        clearBtn.addEventListener('click', () => {
            inputText.value = '';
            outputText.value = '';
            updateStats();
        });

        copyBtn.addEventListener('click', () => {
            outputText.select();
            document.execCommand('copy');
            
            const originalText = copyBtn.innerHTML;
            copyBtn.innerHTML = '<i class="fas fa-check mr-2"></i>' + translations[languageSelector.value].copyText;
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
            }, 2000);
        });

        formatBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                const action = e.currentTarget.getAttribute('data-action');
                processText(action);
            });
        });

        separatorBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                const separator = e.currentTarget.getAttribute('data-separator');
                setSeparator(separator);
            });
        });

        applyBtn.addEventListener('click', () => {
            processText('verticalToHorizontalCustom');
        });

        languageSelector.addEventListener('change', (e) => {
            const lang = e.target.value;
            updateLanguage(lang);
        });

        // 初始化
        updateStats();
        setSeparator(' ');
        updateLanguage('zh');
    </script>
</body>
</html>
<code_end>

这个多语言文本格式编辑器具有以下核心功能和特点：

1. **多语言支持**：完整支持中文、英语、阿拉伯语和巴西葡萄牙语界面切换，包括RTL（从右到左）文本方向支持
2. **竖转横排优化**：提供多种预设间隔符（空格、逗号、竖线、横线）和自定义间隔符功能
3. **智能处理选项**：包含去除空格、过滤空行、末尾添加间隔符等高级配置
4. **现代化UI设计**：采用渐变色背景、卡片布局和悬停动画效果
5. **实时统计显示**：实时计算字符数、行数和处理时间
6. **响应式设计**：适配桌面端和移动端设备
7. **用户友好交互**：包含一键清空、复制结果、键盘快捷键等功能
8. **使用示例**：提供清晰的输入输出示例，帮助用户快速上手
9. **完整的错误处理**：包含输入验证和用户反馈机制

该应用可直接保存为HTML文件在浏览器中运行，通过GitHub Pages等平台轻松部署到互联网。